<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.24">
    <title>dylan的博客</title><meta name="description" content="认真写点东西">
    <link rel="preload" href="/myBlogs/assets/js/runtime~app.60bca805.js" as="script"><link rel="preload" href="/myBlogs/assets/css/styles.9cd3d9d4.css" as="style"><link rel="preload" href="/myBlogs/assets/js/249.0445a43f.js" as="script"><link rel="preload" href="/myBlogs/assets/js/app.4f6dd0b4.js" as="script">
    <link rel="stylesheet" href="/myBlogs/assets/css/styles.9cd3d9d4.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container no-sidebar"><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/myBlogs/" class=""><img class="logo" src="/myBlogs/images/face.jpg" alt="dylan的博客"><span class="site-name can-hide">dylan的博客</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><a href="/myBlogs/" class="nav-link" aria-label="主页"><!--[--><!--]--> 主页 <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/myBlogs/label-blogs/" class="nav-link" aria-label="标签"><!--[--><!--]--> 标签 <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="笔记"><span class="title">笔记</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="笔记"><span class="title">笔记</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/myBlogs/notes/css-notes/" class="nav-link" aria-label="CSS"><!--[--><!--]--> CSS <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/myBlogs/notes/js-notes/" class="nav-link" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/myBlogs/notes/vue-notes/" class="nav-link" aria-label="vue"><!--[--><!--]--> vue <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/myBlogs/notes/react-notes/" class="nav-link" aria-label="react"><!--[--><!--]--> react <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/myBlogs/blogs/threejs-blogs/threejs.md" class="nav-link" aria-label="threejs"><!--[--><!--]--> threejs <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/myBlogs/blogs/epubjs.md" class="nav-link" aria-label="epubjs"><!--[--><!--]--> epubjs <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/myBlogs/blogs/js-blogs/useproxy.md" class="nav-link" aria-label="proxy代理"><!--[--><!--]--> proxy代理 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/myBlogs/notes/data-structure" class="nav-link" aria-label="数据结构和算法"><!--[--><!--]--> 数据结构和算法 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><a href="/myBlogs/timeline" class="nav-link" aria-label="时间线"><!--[--><!--]--> 时间线 <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="链接"><span class="title">链接</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="链接"><span class="title">链接</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a class="nav-link external" href="https://github.com/HWYD" rel="noopener noreferrer" target="_blank" aria-label="github"><!--[--><!--]--> github <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="https://github.com/HWYD" rel="noopener noreferrer" target="_blank" aria-label="github"><!--[--><!--]--> github <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><div class="sidebar-mask"></div><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><a href="/myBlogs/" class="nav-link" aria-label="主页"><!--[--><!--]--> 主页 <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/myBlogs/label-blogs/" class="nav-link" aria-label="标签"><!--[--><!--]--> 标签 <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="笔记"><span class="title">笔记</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="笔记"><span class="title">笔记</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/myBlogs/notes/css-notes/" class="nav-link" aria-label="CSS"><!--[--><!--]--> CSS <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/myBlogs/notes/js-notes/" class="nav-link" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/myBlogs/notes/vue-notes/" class="nav-link" aria-label="vue"><!--[--><!--]--> vue <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/myBlogs/notes/react-notes/" class="nav-link" aria-label="react"><!--[--><!--]--> react <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/myBlogs/blogs/threejs-blogs/threejs.md" class="nav-link" aria-label="threejs"><!--[--><!--]--> threejs <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/myBlogs/blogs/epubjs.md" class="nav-link" aria-label="epubjs"><!--[--><!--]--> epubjs <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/myBlogs/blogs/js-blogs/useproxy.md" class="nav-link" aria-label="proxy代理"><!--[--><!--]--> proxy代理 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/myBlogs/notes/data-structure" class="nav-link" aria-label="数据结构和算法"><!--[--><!--]--> 数据结构和算法 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><a href="/myBlogs/timeline" class="nav-link" aria-label="时间线"><!--[--><!--]--> 时间线 <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="链接"><span class="title">链接</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="链接"><span class="title">链接</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a class="nav-link external" href="https://github.com/HWYD" rel="noopener noreferrer" target="_blank" aria-label="github"><!--[--><!--]--> github <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="https://github.com/HWYD" rel="noopener noreferrer" target="_blank" aria-label="github"><!--[--><!--]--> github <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--]--></ul><!--[--><!--]--></aside><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h2 id="webpack是什么" tabindex="-1"><a class="header-anchor" href="#webpack是什么" aria-hidden="true">#</a> webpack是什么？</h2><p>webpack是一个模块打包工具，和webpack相似的工具有：grunt、gulp、browserify</p><h2 id="模块引入规范" tabindex="-1"><a class="header-anchor" href="#模块引入规范" aria-hidden="true">#</a> 模块引入规范</h2><ul><li>ES Moudule 模块引入方式</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> Header <span class="token keyword">from</span> <span class="token string">&#39;./header.js&#39;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><ul><li>CommonJS 模块引入规范</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> Header <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./header.js&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><ul><li>CMD</li><li>AMD</li></ul><h2 id="安装webpack" tabindex="-1"><a class="header-anchor" href="#安装webpack" aria-hidden="true">#</a> 安装webpack</h2><h3 id="全局安装-不推荐-只能用一个版本号" tabindex="-1"><a class="header-anchor" href="#全局安装-不推荐-只能用一个版本号" aria-hidden="true">#</a> 全局安装(不推荐，只能用一个版本号)</h3><p><code>npm install webpack webpack-cli -g</code></p><ul><li>使用：webpack index.js</li></ul><h3 id="项目内安装" tabindex="-1"><a class="header-anchor" href="#项目内安装" aria-hidden="true">#</a> 项目内安装</h3><p><code>npm install webpack webpack-cli -- save-dev</code></p><ul><li>使用：npx webpack index.js</li></ul><h2 id="提升webpack打包速度" tabindex="-1"><a class="header-anchor" href="#提升webpack打包速度" aria-hidden="true">#</a> 提升webpack打包速度</h2><ul><li><p>保持node版本尽量的新</p></li><li><p>webpack版本尽量的新</p></li></ul><h2 id="webpack的配置文件" tabindex="-1"><a class="header-anchor" href="#webpack的配置文件" aria-hidden="true">#</a> webpack的配置文件</h2><ul><li>webpack.config.js(默认文件名)</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code> module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>

      entry<span class="token operator">:</span> <span class="token string">&#39;./src/index.js&#39;</span><span class="token punctuation">,</span> <span class="token comment">//从哪个文件开始打包</span>

      output<span class="token operator">:</span><span class="token punctuation">{</span> <span class="token comment">//打包的文件放在哪里</span>

      filename<span class="token operator">:</span> <span class="token string">&#39;bundle.js&#39;</span><span class="token punctuation">,</span> <span class="token comment">//打包文件名</span>

      path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>_dirname<span class="token punctuation">,</span> <span class="token string">&#39;dist&#39;</span><span class="token punctuation">)</span> <span class="token comment">//放在哪个文件夹下</span>

     <span class="token punctuation">}</span>

 <span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><ul><li>没有webpack.config.js文件</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code> 使用webpack本身自带的默认配置
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><ul><li>其他命名的配置文件(如webpackset.js)</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code> npx webpack <span class="token operator">--</span> config webpackset<span class="token punctuation">.</span><span class="token function">js</span> <span class="token punctuation">(</span>跟默认文件名不同<span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="运行webpack打包命令" tabindex="-1"><a class="header-anchor" href="#运行webpack打包命令" aria-hidden="true">#</a> 运行webpack打包命令</h2><ul><li>global</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>webpack index<span class="token punctuation">.</span>js
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><ul><li>项目内</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>npx webpack index<span class="token punctuation">.</span>js
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><ul><li>配置package.json中的scripts选项然后进行打包，如：</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>npm run bundle <span class="token operator">-</span><span class="token operator">&gt;</span> webpack
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="loader" tabindex="-1"><a class="header-anchor" href="#loader" aria-hidden="true">#</a> <strong>loader</strong></h2><blockquote><p>用来识别处理非js文件,是一种打包方案</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>   module<span class="token operator">:</span><span class="token punctuation">{</span>

      rules<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>

      test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.jpg$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>

       use<span class="token operator">:</span> <span class="token punctuation">{</span> loader<span class="token operator">:</span> <span class="token string">&quot;file-loader&quot;</span> <span class="token punctuation">}</span>

      <span class="token punctuation">}</span><span class="token punctuation">]</span>
   <span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="file-loader做了哪些事情" tabindex="-1"><a class="header-anchor" href="#file-loader做了哪些事情" aria-hidden="true">#</a> file-loader做了哪些事情</h3><h4 id="比如当发现引入了图片模块的时候-首先会把图片移动到dist目录下-会改名字-可自定义-返回图片的地址-理论上可以处理任何静态资源" tabindex="-1"><a class="header-anchor" href="#比如当发现引入了图片模块的时候-首先会把图片移动到dist目录下-会改名字-可自定义-返回图片的地址-理论上可以处理任何静态资源" aria-hidden="true">#</a> 比如当发现引入了图片模块的时候，首先会把图片移动到dist目录下， 会改名字(可自定义)，返回图片的地址，理论上可以处理任何静态资源</h4><h4 id="可以配置一些参数-options" tabindex="-1"><a class="header-anchor" href="#可以配置一些参数-options" aria-hidden="true">#</a> 可以配置一些参数：options</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>   rules<span class="token operator">:</span><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>

      test<span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.jpg$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>

       use<span class="token operator">:</span><span class="token punctuation">{</span>

      loader<span class="token operator">:</span><span class="token string">&#39;url-loader&#39;</span><span class="token punctuation">,</span>

      options<span class="token operator">:</span><span class="token punctuation">{</span>

       name<span class="token operator">:</span><span class="token string">&#39;[name]_[hash].[ext]&#39;</span><span class="token punctuation">,</span> <span class="token comment">// name: ‘[name].[ext]’ // 占位符 老图片的名字，老图片的后缀</span>

       outputPath<span class="token operator">:</span><span class="token string">&#39;images/&#39;</span><span class="token punctuation">,</span>

       limit<span class="token operator">:</span><span class="token string">&#39;204800&#39;</span>

  <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span>

</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="url-loader" tabindex="-1"><a class="header-anchor" href="#url-loader" aria-hidden="true">#</a> url-loader</h3><ul><li><strong>会把图片转为base64文件放在js文件中</strong></li><li><strong>好处：节省了图片的http请求</strong></li><li><strong>坏处，使得js文件变大，使页面加载变慢</strong></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>   module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>

   mode<span class="token operator">:</span> <span class="token string">&#39;development&#39;</span><span class="token punctuation">,</span>

   entry<span class="token operator">:</span><span class="token punctuation">{</span>

   main <span class="token operator">:</span> <span class="token string">&#39;./src/index.js&#39;</span>

   <span class="token punctuation">}</span><span class="token punctuation">,</span>

  module<span class="token operator">:</span><span class="token punctuation">{</span>

  rules<span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span>

   test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(jpg|png|gif)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>

   use<span class="token operator">:</span><span class="token punctuation">{</span>

  loader <span class="token operator">:</span> <span class="token string">&#39;url-loader&#39;</span><span class="token punctuation">,</span>

   options <span class="token operator">:</span> <span class="token punctuation">{</span>

   name<span class="token operator">:</span> <span class="token string">&#39;[name]_[hash].ext&#39;</span><span class="token punctuation">,</span>

  outputPath<span class="token operator">:</span> <span class="token string">&#39;images/&#39;</span><span class="token punctuation">,</span>

  limit<span class="token operator">:</span> <span class="token number">2048</span> <span class="token comment">//小于2048个字节的话使用url-loader变成base64的字符串，否则生成文件</span>
   <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><h3 id="css资源打包的loader" tabindex="-1"><a class="header-anchor" href="#css资源打包的loader" aria-hidden="true">#</a> css资源打包的loader</h3><ul><li><p>css-loader 和 style-loader css-loader配合style-loader去处理打包</p></li><li><p>css预处理器loader 使用css预处理器时需要安装对应的css预处理器loader，如sass需要安装node-sass 和 node-sass</p></li><li><p>css添加厂商前缀的loader：postcss-loader</p></li><li><p>css打包模块化：各个css文件互不影响，互不耦合和冲突</p></li></ul><h2 id="plugins" tabindex="-1"><a class="header-anchor" href="#plugins" aria-hidden="true">#</a> <strong>plugins</strong></h2><blockquote><p>可以在webpack 运行到某个时刻的时候，帮你做一些事情</p></blockquote><ul><li>htmlWebpackPlugin 会在打包结束后，自动生成一个html文件，并把打包生成的js自动引入到这个html文件中</li><li>clean-webpack-plugin 第三方插件，用于打包成功前清空dist文件夹</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>   plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>

   template<span class="token operator">:</span><span class="token string">&#39;./index.html&#39;</span>

   <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;dist&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">]</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="sourcemap" tabindex="-1"><a class="header-anchor" href="#sourcemap" aria-hidden="true">#</a> <strong>sourceMap</strong></h2><p>它是一个映射关系，默认是被配置的，假如它知道dist目录下main.js文件96行出错了，实际上对应的是src目录下index.js文件中的第一行它会帮你提示当前其实是index.js中第一行代码出错了</p><ul><li>最佳组合：可以知道源代码出错的地方，而不是打包后的代码哪里出错了</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>   module<span class="token punctuation">.</span>exports <span class="token operator">=</span><span class="token punctuation">{</span>

   mode<span class="token operator">:</span><span class="token string">&#39;development&#39;</span><span class="token punctuation">,</span>

   devtool<span class="token operator">:</span><span class="token string">&#39;cheap-module-eval-source-map&#39;</span><span class="token punctuation">,</span>

   <span class="token comment">// devtool:&#39;cheap-module-source-map&#39;, //线上的生产环境</span>

   <span class="token punctuation">}</span>

</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="eval-是最快的一种打包方式" tabindex="-1"><a class="header-anchor" href="#eval-是最快的一种打包方式" aria-hidden="true">#</a> eval:是最快的一种打包方式</h3><h2 id="监听代码改变自动打包三种方法" tabindex="-1"><a class="header-anchor" href="#监听代码改变自动打包三种方法" aria-hidden="true">#</a> 监听代码改变自动打包三种方法</h2><ol><li>package.json添加命令</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>   <span class="token string">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
   <span class="token string">&quot;bundle&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack --watch&quot;</span><span class="token punctuation">,</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="2"><li>使用WebpackDevServer</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>   module<span class="token punctuation">.</span>exports <span class="token operator">=</span><span class="token punctuation">{</span>
   devServer<span class="token operator">:</span><span class="token punctuation">{</span>
   contentBase<span class="token operator">:</span><span class="token string">&#39;./dist&#39;</span><span class="token punctuation">,</span>
   open<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
   port<span class="token operator">:</span><span class="token number">8081</span>
  <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ol start="3"><li>自己写一个类似WebpackDevServer的方法</li></ol><h2 id="webpackdevserver" tabindex="-1"><a class="header-anchor" href="#webpackdevserver" aria-hidden="true">#</a> WebpackDevServer</h2><blockquote><p>监听代码改变自动打包并刷新，开启web服务器，可以进行ajax请求</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>   module<span class="token punctuation">.</span>exports <span class="token operator">=</span><span class="token punctuation">{</span>
   devServer<span class="token operator">:</span><span class="token punctuation">{</span>
   contentBase<span class="token operator">:</span><span class="token string">&#39;./dist&#39;</span><span class="token punctuation">,</span>
   open<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
   port<span class="token operator">:</span><span class="token number">8081</span>
  <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="hot-module-replacement-热模块更新" tabindex="-1"><a class="header-anchor" href="#hot-module-replacement-热模块更新" aria-hidden="true">#</a> Hot Module Replacement 热模块更新</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//  webpack.config.js</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;html-webpack-plugin&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> CleanWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;clean-webpack-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack&#39;</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span><span class="token punctuation">{</span>
mode<span class="token operator">:</span><span class="token string">&#39;development&#39;</span><span class="token punctuation">,</span>
devtool<span class="token operator">:</span><span class="token string">&#39;cheap-module-eval-source-map&#39;</span><span class="token punctuation">,</span>
entry<span class="token operator">:</span> <span class="token punctuation">{</span>
main<span class="token operator">:</span><span class="token string">&#39;./src/index.js&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
devServer<span class="token operator">:</span><span class="token punctuation">{</span>
contentBase<span class="token operator">:</span><span class="token string">&#39;./dist&#39;</span><span class="token punctuation">,</span>
open<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
port<span class="token operator">:</span><span class="token number">8081</span><span class="token punctuation">,</span>
hot<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
hotOnly<span class="token operator">:</span><span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
module<span class="token operator">:</span><span class="token punctuation">{</span>
rules<span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
test<span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.jpg$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
use<span class="token operator">:</span><span class="token punctuation">{</span>
loader<span class="token operator">:</span><span class="token string">&#39;url-loader&#39;</span><span class="token punctuation">,</span>
options<span class="token operator">:</span><span class="token punctuation">{</span>
name<span class="token operator">:</span><span class="token string">&#39;[name]_[hash].[ext]&#39;</span><span class="token punctuation">,</span>
outputPath<span class="token operator">:</span><span class="token string">&#39;images/&#39;</span><span class="token punctuation">,</span>
limit<span class="token operator">:</span><span class="token string">&#39;204800&#39;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
test<span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(eot|ttf|svg)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
use<span class="token operator">:</span><span class="token punctuation">{</span>
loader<span class="token operator">:</span><span class="token string">&#39;file-loader&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
test<span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
use<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&#39;style-loader&#39;</span><span class="token punctuation">,</span>
<span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">,</span>
<span class="token string">&#39;postcss-loader&#39;</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
test<span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.scss$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
use<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&#39;style-loader&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
loader<span class="token operator">:</span><span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">,</span>
options<span class="token operator">:</span><span class="token punctuation">{</span>
importLoaders<span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
<span class="token comment">// modules:true</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token string">&#39;sass-loader&#39;</span><span class="token punctuation">,</span>
<span class="token string">&#39;postcss-loader&#39;</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
template<span class="token operator">:</span><span class="token string">&#39;./index.html&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;dist&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
output<span class="token operator">:</span> <span class="token punctuation">{</span>
filename<span class="token operator">:</span> <span class="token string">&#39;[name].js&#39;</span><span class="token punctuation">,</span>
path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">&#39;dist&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br></div></div><p>模块化之间互不影响</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">if</span><span class="token punctuation">(</span>module<span class="token punctuation">.</span>hot<span class="token punctuation">)</span><span class="token punctuation">{</span>
  module<span class="token punctuation">.</span>hot<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token string">&#39;./number&#39;</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;number&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token function">number</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="使用babel处理es6语法" tabindex="-1"><a class="header-anchor" href="#使用babel处理es6语法" aria-hidden="true">#</a> 使用babel处理es6语法</h2><blockquote><p>babel-loader、babel\core 将es6转为es5语法 @babel/preset-env</p></blockquote><h3 id="babel-polyfill" tabindex="-1"><a class="header-anchor" href="#babel-polyfill" aria-hidden="true">#</a> @babel/polyfill</h3><p>处理低版本浏览器没有的一些语法和特性，添加对象的方法，如promise之类的 根据业务代码按需添加特性方法，减少代码体积,需要添加配置项</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token operator">:</span><span class="token punctuation">{</span>
  rules<span class="token operator">:</span><span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
  test<span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  exclude<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  loader<span class="token operator">:</span> <span class="token string">&quot;babel-loader&quot;</span><span class="token punctuation">,</span>
  options<span class="token operator">:</span> <span class="token punctuation">{</span>
  presets<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#39;@babel/preset-env&#39;</span><span class="token punctuation">,</span>
             <span class="token punctuation">{</span> useBuiltIns <span class="token operator">:</span> <span class="token string">&#39;usage&#39;</span> <span class="token punctuation">}</span>
          <span class="token punctuation">]</span><span class="token punctuation">]</span>
     <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>可以配置兼容到浏览器的哪个版本</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  test<span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  exclude<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  loader<span class="token operator">:</span> <span class="token string">&quot;babel-loader&quot;</span><span class="token punctuation">,</span>
  options<span class="token operator">:</span> <span class="token punctuation">{</span>
  presets<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#39;@babel/preset-env&#39;</span><span class="token punctuation">,</span>
             <span class="token punctuation">{</span> 
  targets<span class="token operator">:</span><span class="token punctuation">{</span> 
  chrome <span class="token operator">:</span> <span class="token string">&quot;67&quot;</span>
                 <span class="token punctuation">}</span><span class="token punctuation">,</span>
  useBuiltIns <span class="token operator">:</span> <span class="token string">&#39;usage&#39;</span> 
             <span class="token punctuation">}</span>
          <span class="token punctuation">]</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>@babel/plugin-transform-runtime</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  test<span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  exclude<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  loader<span class="token operator">:</span> <span class="token string">&quot;babel-loader&quot;</span><span class="token punctuation">,</span>
  options<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token comment">//业务代码配置</span>
  <span class="token comment">//     presets: [[&#39;@babel/preset-env&#39;,</span>
  <span class="token comment">//    { </span>
  <span class="token comment">//      targets:{ </span>
  <span class="token comment">//        chrome : &quot;67&quot;</span>
  <span class="token comment">//        },</span>
  <span class="token comment">//     useBuiltIns : &#39;usage&#39; </span>
  <span class="token comment">//    }</span>
  <span class="token comment">// ]]</span>
  <span class="token comment">// 库代码配置</span>
<span class="token string">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token punctuation">[</span>
<span class="token string">&quot;@babel/plugin-transform-runtime&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
<span class="token string">&quot;corejs&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
<span class="token string">&quot;helpers&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token string">&quot;regenerator&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token string">&quot;useESModules&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p>babel配置内容过多时候，使用.babelrc放options配置</p><h2 id="tree-shaking" tabindex="-1"><a class="header-anchor" href="#tree-shaking" aria-hidden="true">#</a> Tree Shaking</h2><blockquote><p>打包的时候去除没有引用的模块，只支持 ES Module 静态引入的方法，CommonJs是动态引入的</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// webpack.config.js</span>
optimization<span class="token operator">:</span><span class="token punctuation">{</span>                     <span class="token comment">// 生产模式下可以不写</span>
  usedExports <span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token comment">// package.json</span>
<span class="token string">&quot;sideEffects&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>  
<span class="token string">&quot;sideEffects&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;*.css&quot;</span><span class="token punctuation">]</span>      <span class="token comment">//如果需要忽略哪些模块，让哪些模块不被Tree Shaking，用数组表示</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="development和production模式的区分打包" tabindex="-1"><a class="header-anchor" href="#development和production模式的区分打包" aria-hidden="true">#</a> Development和Production模式的区分打包</h2><ul><li>可以分生产模式和开发模式两个js配置文件</li><li>避免重复代码，还可以分三个文件，一个共用的，一个生产模式，一个开发模式 需要使用webpack-merge 进行合并</li></ul><ol><li>开发环境 需要使用webpack-dev-server 方便我们进行开发</li><li>生产环境 需要对sourcemap 进行精简，代码进行压缩</li></ol><h2 id="webpack-和-code-splitting代码分割" tabindex="-1"><a class="header-anchor" href="#webpack-和-code-splitting代码分割" aria-hidden="true">#</a> webpack 和 code Splitting代码分割</h2><p>代码分割，和webpack无关 webpack 中实现代码分割，两种方式</p><ul><li>同步代码：只需要在webpack.common.js中做optimization 的配置</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>optimization<span class="token operator">:</span><span class="token punctuation">{</span>
  splitChunks<span class="token operator">:</span><span class="token punctuation">{</span>
  chunks<span class="token operator">:</span>all
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>异步代码(import)：异步代码，无需做任何配置，会自动进行代码分割 ，放置到新的文件中。</li></ul><h2 id="打包时不分割代码与分割代码" tabindex="-1"><a class="header-anchor" href="#打包时不分割代码与分割代码" aria-hidden="true">#</a> 打包时不分割代码与分割代码</h2><ul><li>不分割 假设首次访问页面时，main.js 2mb 打包文件会很大，加载main.js(2mb) 当页面业务逻辑发生变化时，又要加载 2mb的内容</li><li>分割代码 main.js被拆分为 lodash.js(1mb)，main.js(1mb) 当页面业务逻辑发生变化时，只要加载main.js即可(1mb)</li></ul><h2 id="css文件的代码分割" tabindex="-1"><a class="header-anchor" href="#css文件的代码分割" aria-hidden="true">#</a> css文件的代码分割</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>output <span class="token operator">:</span> <span class="token punctuation">{</span>
  filename <span class="token operator">:</span>  <span class="token string">&#39;[name].js&#39;</span><span class="token punctuation">,</span>       <span class="token comment">//直接被引用走这里</span>
  chunckFilename <span class="token operator">:</span> <span class="token string">&#39;[name].chunk.js&#39;</span>         <span class="token comment">// 间接被引用走这里</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>mini-css-extract-plugin: 在生产环境配置 在开发环境不配置，因为暂时没有热更新功能，需要手动刷新，影响开发速度(缺陷)</p><h2 id="webpack与浏览器缓存" tabindex="-1"><a class="header-anchor" href="#webpack与浏览器缓存" aria-hidden="true">#</a> webpack与浏览器缓存</h2><blockquote><p>如果不是强制刷新，请求的文件名字相同将不会重新请求,需要给打包生成的文件进行哈希值命名</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>output<span class="token operator">:</span><span class="token punctuation">{</span>
  filename<span class="token operator">:</span> <span class="token string">&#39;[name].[contenthash].js&#39;</span><span class="token punctuation">,</span>
  chunkFilename<span class="token operator">:</span> <span class="token string">&#39;[name].[contenthash].js&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="shimming的作用-垫片" tabindex="-1"><a class="header-anchor" href="#shimming的作用-垫片" aria-hidden="true">#</a> shimming的作用(垫片)</h2><blockquote><p>修改webpack原有的一些行为，或者webpack原有不能实现的行为,代码兼容，打包过程兼容 有些低版本浏览器可能没有promise这些方法，导致程序无法进行，借助babelprofill，这也叫shimming的作用</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack&#39;</span><span class="token punctuation">)</span>
        plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ProvidePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        $<span class="token operator">:</span><span class="token string">&#39;jquery&#39;</span>                         <span class="token comment">//帮一些古老的插件，如jq，当使用$这个符号时，自动帮忙import jquery插件</span>
        _<span class="token operator">:</span><span class="token string">&#39;lodash&#39;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><span class="meta-item-info">2021/11/10 下午11:10:04</span></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 1165203865@qq.com">HWYD</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script src="/myBlogs/assets/js/runtime~app.60bca805.js" defer></script><script src="/myBlogs/assets/js/249.0445a43f.js" defer></script><script src="/myBlogs/assets/js/app.4f6dd0b4.js" defer></script>
  </body>
</html>
